{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Louis\\\\Desktop\\\\demoviewer\\\\csgo-demo-viewer\\\\client\\\\src\\\\pages\\\\HomePage.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Button, Jumbotron, Container, Form, Col, Modal } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './HomePage.css';\nimport { useHistory } from 'react-router-dom';\nimport axios from \"axios\";\nimport { SocketContext } from \"../contexts/SocketProvider\";\nimport { GameContext } from \"../contexts/GameProvider\";\n\nfunction CreateForm(props) {\n  const setJoinCode = useContext(GameContext).setJoinCode;\n  const setGame = useContext(GameContext).setGame;\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n  const [file, setFile] = useState();\n  const [fileName, setFileName] = useState(\"Choose Demo to Upload...\");\n  const [fileStatus, setFileStatus] = useState(0);\n  const [fileStatusName, setFileStatusName] = useState(\"\");\n  const [submitBtnStatus, setSubmitBtnStatus] = useState(false);\n\n  function handleFile(e) {\n    const file = e.target.files[0];\n\n    if (!file) {\n      setFileStatusName(\"No file selected\");\n      setFileStatus(-1);\n      return;\n    } else if (!file.name.match(/\\.(dem)$/)) {\n      setFileStatusName(\"Invalid file format\");\n      setFileStatus(-1);\n      setFileName(file.name);\n      return;\n    } else if (file.size > 419430400) {\n      setFileStatusName(\"File size too big\");\n      setFileStatus(-1);\n      setFileName(file.name);\n      return;\n    } else {\n      setFileStatus(1);\n      setFileName(file.name);\n      setFile(file);\n      setSubmitBtnStatus(true);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (fileStatus == 1) {\n      setSubmitBtnStatus(false);\n      const formData = new FormData();\n      formData.append(\"file\", file); // Uploads selected demo file\n\n      axios.post(\"/upload\", formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        } // If server is successful in processing demo, it sends back a room code/permission used to create a websocket room\n\n      }).then(res => {\n        console.log(res);\n        socket.emit(\"joinRoom\", res.data);\n        socket.on(\"joinResponse\", data => {\n          if (data.status) {\n            setGame(data.game);\n            setJoinCode(data.joinCode);\n            history.push(\"/watch\");\n          } else alert(data.statusMsg);\n        });\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.File, {\n    id: \"formcheck-api-custom\",\n    custom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.File.Input, {\n    isValid: fileStatus > 0,\n    isInvalid: fileStatus < 0,\n    onChange: handleFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form.File.Label, {\n    \"data-browse\": \"Browse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, fileName), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, fileStatusName))), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"create\",\n    type: \"submit\",\n    disabled: !submitBtnStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Create Session\"))));\n}\n\nfunction JoinForm(props) {\n  const setJoinCode = useContext(GameContext).setJoinCode;\n  const setGame = useContext(GameContext).setGame;\n  const socket = useContext(SocketContext);\n  const history = useHistory();\n  const [textValue, setTextValue] = useState(\"\");\n\n  function handleChange(e) {\n    setTextValue(e.target.value.toUpperCase(), () => e.target.setSelectionRange(e.target.start, e.target.end));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault(); // ADD: check for validity of joincode\n    //\n\n    socket.emit(\"joinRoom\", textValue);\n  }\n\n  useEffect(() => {\n    socket.on(\"joinResponse\", data => {\n      if (data.status == false) alert(data.statusMsg);else {\n        setGame(data.game);\n        setJoinCode(data.joinCode);\n        history.push(\"/watch\");\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Join Code\",\n    value: textValue,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"join\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, \"Join Session\"))));\n}\n\nfunction HomePage(props) {\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    show: false,\n    backdrop: \"static\",\n    keyboard: false,\n    dialogClassName: \"modal-100w\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    id: \"createSessionSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CreateForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Jumbotron, {\n    id: \"joinSessionSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(JoinForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/Louis/Desktop/demoviewer/csgo-demo-viewer/client/src/pages/HomePage.js"],"names":["React","useState","useContext","useEffect","Button","Jumbotron","Container","Form","Col","Modal","useHistory","axios","SocketContext","GameContext","CreateForm","props","setJoinCode","setGame","socket","history","file","setFile","fileName","setFileName","fileStatus","setFileStatus","fileStatusName","setFileStatusName","submitBtnStatus","setSubmitBtnStatus","handleFile","e","target","files","name","match","size","handleSubmit","preventDefault","formData","FormData","append","post","headers","then","res","console","log","emit","data","on","status","game","joinCode","push","alert","statusMsg","JoinForm","textValue","setTextValue","handleChange","value","toUpperCase","setSelectionRange","start","end","HomePage"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,SAA5B,EAAuCC,IAAvC,EAA6CC,GAA7C,EAAkDC,KAAlD,QAA8D,iBAA9D;AACA,OAAO,sCAAP;AACA,OAAO,gBAAP;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,QAA4B,4BAA5B;AACA,SAAQC,WAAR,QAA0B,0BAA1B;;AAGA,SAASC,UAAT,CAAoBC,KAApB,EAA0B;AACtB,QAAMC,WAAW,GAAGd,UAAU,CAACW,WAAD,CAAV,CAAwBG,WAA5C;AACA,QAAMC,OAAO,GAAGf,UAAU,CAACW,WAAD,CAAV,CAAwBI,OAAxC;AACA,QAAMC,MAAM,GAAGhB,UAAU,CAACU,aAAD,CAAzB;AACA,QAAMO,OAAO,GAAGT,UAAU,EAA1B;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,EAAhC;AACA,QAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0BtB,QAAQ,CAAC,0BAAD,CAAxC;AACA,QAAM,CAACuB,UAAD,EAAaC,aAAb,IAA8BxB,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAACyB,cAAD,EAAiBC,iBAAjB,IAAsC1B,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAC2B,eAAD,EAAkBC,kBAAlB,IAAwC5B,QAAQ,CAAC,KAAD,CAAtD;;AAGA,WAAS6B,UAAT,CAAoBC,CAApB,EAAsB;AAClB,UAAMX,IAAI,GAAGW,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;;AAEA,QAAG,CAACb,IAAJ,EAAS;AACLO,MAAAA,iBAAiB,CAAC,kBAAD,CAAjB;AACAF,MAAAA,aAAa,CAAC,CAAC,CAAF,CAAb;AACA;AACH,KAJD,MAMK,IAAG,CAACL,IAAI,CAACc,IAAL,CAAUC,KAAV,CAAgB,UAAhB,CAAJ,EAAgC;AACjCR,MAAAA,iBAAiB,CAAC,qBAAD,CAAjB;AACAF,MAAAA,aAAa,CAAC,CAAC,CAAF,CAAb;AACAF,MAAAA,WAAW,CAACH,IAAI,CAACc,IAAN,CAAX;AACA;AACH,KALI,MAOA,IAAGd,IAAI,CAACgB,IAAL,GAAY,SAAf,EAAyB;AAC1BT,MAAAA,iBAAiB,CAAC,mBAAD,CAAjB;AACAF,MAAAA,aAAa,CAAC,CAAC,CAAF,CAAb;AACAF,MAAAA,WAAW,CAACH,IAAI,CAACc,IAAN,CAAX;AACA;AACH,KALI,MAMD;AACAT,MAAAA,aAAa,CAAC,CAAD,CAAb;AACAF,MAAAA,WAAW,CAACH,IAAI,CAACc,IAAN,CAAX;AACAb,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAS,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH;AACJ;;AAED,WAASQ,YAAT,CAAsBN,CAAtB,EAAwB;AACpBA,IAAAA,CAAC,CAACO,cAAF;;AAEA,QAAGd,UAAU,IAAI,CAAjB,EAAmB;AACfK,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;AAEA,YAAMU,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBrB,IAAxB,EAJe,CAMf;;AACAT,MAAAA,KAAK,CAAC+B,IAAN,CAAW,SAAX,EAAsBH,QAAtB,EAAgC;AAC5BI,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SADmB,CAKhC;;AALgC,OAAhC,EAMGC,IANH,CAMQC,GAAG,IAAG;AAEVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA3B,QAAAA,MAAM,CAAC8B,IAAP,CAAY,UAAZ,EAAwBH,GAAG,CAACI,IAA5B;AAEA/B,QAAAA,MAAM,CAACgC,EAAP,CAAU,cAAV,EAA0BD,IAAI,IAAE;AAC5B,cAAGA,IAAI,CAACE,MAAR,EAAe;AACXlC,YAAAA,OAAO,CAACgC,IAAI,CAACG,IAAN,CAAP;AACApC,YAAAA,WAAW,CAACiC,IAAI,CAACI,QAAN,CAAX;AACAlC,YAAAA,OAAO,CAACmC,IAAR,CAAa,QAAb;AACH,WAJD,MAKIC,KAAK,CAACN,IAAI,CAACO,SAAN,CAAL;AACP,SAPD;AAQH,OAnBD;AAoBH;AACJ;;AAID,sBACI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEnB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,EAAE,EAAC,sBAAd;AAAqC,IAAA,MAAM,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN,CAAW,KAAX;AAAiB,IAAA,OAAO,EAAIb,UAAU,GAAG,CAAzC;AAA4C,IAAA,SAAS,EAAIA,UAAU,GAAG,CAAtE;AAAyE,IAAA,QAAQ,EAAGM,UAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,IAAD,CAAM,IAAN,CAAW,KAAX;AAAiB,mBAAY,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKR,QADL,CAFJ,eAKI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd;AAAuB,IAAA,IAAI,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuCI,cAAvC,CALJ,CADJ,CADJ,eAWI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,QAAhB;AAAyB,IAAA,IAAI,EAAG,QAAhC;AAAyC,IAAA,QAAQ,EAAI,CAACE,eAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CAXJ,CADJ,CADJ;AAmBH;;AAED,SAAS6B,QAAT,CAAkB1C,KAAlB,EAAwB;AACpB,QAAMC,WAAW,GAAGd,UAAU,CAACW,WAAD,CAAV,CAAwBG,WAA5C;AACA,QAAMC,OAAO,GAAGf,UAAU,CAACW,WAAD,CAAV,CAAwBI,OAAxC;AACA,QAAMC,MAAM,GAAGhB,UAAU,CAACU,aAAD,CAAzB;AACA,QAAMO,OAAO,GAAGT,UAAU,EAA1B;AACA,QAAM,CAACgD,SAAD,EAAYC,YAAZ,IAA4B1D,QAAQ,CAAC,EAAD,CAA1C;;AAEA,WAAS2D,YAAT,CAAsB7B,CAAtB,EAAwB;AACpB4B,IAAAA,YAAY,CAAC5B,CAAC,CAACC,MAAF,CAAS6B,KAAT,CAAeC,WAAf,EAAD,EAA+B,MAAK/B,CAAC,CAACC,MAAF,CAAS+B,iBAAT,CAA2BhC,CAAC,CAACC,MAAF,CAASgC,KAApC,EAA0CjC,CAAC,CAACC,MAAF,CAASiC,GAAnD,CAApC,CAAZ;AACH;;AAED,WAAS5B,YAAT,CAAsBN,CAAtB,EAAwB;AACpBA,IAAAA,CAAC,CAACO,cAAF,GADoB,CAGpB;AACA;;AAEApB,IAAAA,MAAM,CAAC8B,IAAP,CAAY,UAAZ,EAAwBU,SAAxB;AACH;;AAEDvD,EAAAA,SAAS,CAAC,MAAI;AACVe,IAAAA,MAAM,CAACgC,EAAP,CAAU,cAAV,EAA2BD,IAAD,IAAQ;AAC9B,UAAGA,IAAI,CAACE,MAAL,IAAe,KAAlB,EACII,KAAK,CAACN,IAAI,CAACO,SAAN,CAAL,CADJ,KAEI;AACAvC,QAAAA,OAAO,CAACgC,IAAI,CAACG,IAAN,CAAP;AACApC,QAAAA,WAAW,CAACiC,IAAI,CAACI,QAAN,CAAX;AACAlC,QAAAA,OAAO,CAACmC,IAAR,CAAa,QAAb;AACH;AACJ,KARD;AASH,GAVQ,EAUP,EAVO,CAAT;AAYA,sBACI,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAIjB,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,GAAN;AAAU,IAAA,SAAS,EAAC,oBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,IAAI,EAAC,MAAnB;AAA0B,IAAA,WAAW,EAAC,iBAAtC;AAAwD,IAAA,KAAK,EAAIqB,SAAjE;AAA4E,IAAA,QAAQ,EAAIE,YAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,MAAhB;AAAuB,IAAA,IAAI,EAAG,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAJJ,CADJ,CADJ;AAYH;;AAED,SAASM,QAAT,CAAkBnD,KAAlB,EAAwB;AAEpB,sBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,KAAb;AAAoB,IAAA,QAAQ,EAAC,QAA7B;AAAsC,IAAA,QAAQ,EAAE,KAAhD;AAAuD,IAAA,eAAe,EAAC,YAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,EAAE,EAAG,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,SAAD;AAAW,IAAA,EAAE,EAAG,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CADJ,CADJ,CADJ;AAcH;;AAED,eAAemD,QAAf","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\r\nimport { Button, Jumbotron, Container, Form, Col, Modal} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './HomePage.css';\r\nimport {useHistory} from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport {SocketContext} from \"../contexts/SocketProvider\";\r\nimport {GameContext} from \"../contexts/GameProvider\";\r\n\r\n\r\nfunction CreateForm(props){\r\n    const setJoinCode = useContext(GameContext).setJoinCode;\r\n    const setGame = useContext(GameContext).setGame;\r\n    const socket = useContext(SocketContext);\r\n    const history = useHistory();\r\n    const [file, setFile] = useState();\r\n    const [fileName, setFileName] = useState(\"Choose Demo to Upload...\");\r\n    const [fileStatus, setFileStatus] = useState(0);\r\n    const [fileStatusName, setFileStatusName] = useState(\"\");\r\n    const [submitBtnStatus, setSubmitBtnStatus] = useState(false);\r\n\r\n\r\n    function handleFile(e){\r\n        const file = e.target.files[0];\r\n\r\n        if(!file){\r\n            setFileStatusName(\"No file selected\");\r\n            setFileStatus(-1);\r\n            return;\r\n        }\r\n\r\n        else if(!file.name.match(/\\.(dem)$/)){\r\n            setFileStatusName(\"Invalid file format\");\r\n            setFileStatus(-1);\r\n            setFileName(file.name);\r\n            return;\r\n        }\r\n\r\n        else if(file.size > 419430400){\r\n            setFileStatusName(\"File size too big\");\r\n            setFileStatus(-1);\r\n            setFileName(file.name);\r\n            return;\r\n        }\r\n        else{\r\n            setFileStatus(1);\r\n            setFileName(file.name);\r\n            setFile(file);\r\n            setSubmitBtnStatus(true);\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        \r\n        if(fileStatus == 1){\r\n            setSubmitBtnStatus(false);\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"file\", file);\r\n\r\n            // Uploads selected demo file\r\n            axios.post(\"/upload\", formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n        \r\n            // If server is successful in processing demo, it sends back a room code/permission used to create a websocket room\r\n            }).then(res=> {\r\n                \r\n                console.log(res);\r\n                socket.emit(\"joinRoom\", res.data);\r\n\r\n                socket.on(\"joinResponse\", data=>{\r\n                    if(data.status){\r\n                        setGame(data.game);\r\n                        setJoinCode(data.joinCode);\r\n                        history.push(\"/watch\");\r\n                    }else\r\n                        alert(data.statusMsg)\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <Form onSubmit={handleSubmit}>\r\n            <Form.Row>\r\n                <Col>\r\n                    <Form.File id=\"formcheck-api-custom\" custom> \r\n                        <Form.File.Input isValid = {fileStatus > 0} isInvalid = {fileStatus < 0} onChange ={handleFile}/>\r\n                        <Form.File.Label data-browse=\"Browse\">\r\n                            {fileName}\r\n                        </Form.File.Label>\r\n                        <Form.Control.Feedback type=\"invalid\">{fileStatusName}</Form.Control.Feedback>\r\n                    </Form.File>\r\n                    \r\n                </Col>\r\n                <Col>   \r\n                    <Button variant=\"create\" type = \"submit\" disabled = {!submitBtnStatus}>Create Session</Button>\r\n                </Col>\r\n            </Form.Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nfunction JoinForm(props){\r\n    const setJoinCode = useContext(GameContext).setJoinCode;\r\n    const setGame = useContext(GameContext).setGame;\r\n    const socket = useContext(SocketContext);\r\n    const history = useHistory();\r\n    const [textValue, setTextValue] = useState(\"\");\r\n\r\n    function handleChange(e){\r\n        setTextValue(e.target.value.toUpperCase(), ()=> e.target.setSelectionRange(e.target.start,e.target.end));\r\n    }\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        \r\n        // ADD: check for validity of joincode\r\n        //\r\n\r\n        socket.emit(\"joinRoom\", textValue);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        socket.on(\"joinResponse\", (data)=>{\r\n            if(data.status == false)\r\n                alert(data.statusMsg);\r\n            else{\r\n                setGame(data.game);\r\n                setJoinCode(data.joinCode);\r\n                history.push(\"/watch\");\r\n            }\r\n        })\r\n    },[]);\r\n\r\n    return(\r\n        <Form onSubmit = {handleSubmit}>\r\n            <Form.Row className=\"align-items-center\">\r\n                <Col>\r\n                    <Form.Control type=\"text\" placeholder=\"Enter Join Code\" value = {textValue} onChange = {handleChange}/>\r\n                </Col>\r\n                <Col>\r\n                    <Button variant=\"join\" type = \"submit\">Join Session</Button>\r\n                </Col>\r\n            </Form.Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nfunction HomePage(props){\r\n\r\n    return(\r\n        <Container>\r\n            <Modal show={false} backdrop=\"static\" keyboard={false} dialogClassName=\"modal-100w\">\r\n                <Modal.Body>\r\n                    <Jumbotron id = \"createSessionSection\" >\r\n                        <CreateForm/>\r\n                    </Jumbotron>\r\n                    <Jumbotron id = \"joinSessionSection\" >\r\n                        <JoinForm/>\r\n                    </Jumbotron>\r\n                </Modal.Body>\r\n            </Modal>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}