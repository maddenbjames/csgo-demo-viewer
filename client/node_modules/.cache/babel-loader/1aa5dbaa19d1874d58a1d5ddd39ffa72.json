{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Louis\\\\Desktop\\\\demoviewer\\\\client\\\\src\\\\pages\\\\HomePage.js\";\nimport React, { useState } from 'react';\nimport io from \"socket.io-client\";\nimport { Button, Jumbotron, Container, Form, Col, Row } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport bsCustomFileInput from 'bs-custom-file-input';\nimport './HomePage.css';\nimport { Route, useHistory } from 'react-router-dom';\nimport ss from \"socket.io-stream\";\nimport axios from \"axios\";\n\nfunction CreateForm(props) {\n  const history = useHistory();\n  const [file, setFile] = useState();\n  const [fileName, setFileName] = useState(\"Choose Demo to Upload...\");\n  const [fileStatus, setFileStatus] = useState(0);\n  const [fileStatusName, setFileStatusName] = useState(\"\");\n\n  function handleClick() {\n    //const socket = io(props.endpoint);\n    // Sending to server\n    //socket.emit(\"create\");\n    //history.push(\"/watch\");\n    {//const stream = ss.createStream();\n      // Send data\n      //socket.emit(\"demorequest\");\n      // Receive data\n\n      /*\r\n      ss(socket).on(\"demofile\", (stream, filename) => {\r\n      console.log(stream);\r\n      });\r\n      */\n\n      /*\r\n      socket.on(\"demofile\", file=>{\r\n          console.log(file);\r\n      })  */\n    }\n  }\n\n  ;\n\n  function handleFile(e) {\n    const file = e.target.files[0];\n    setFileStatus(1);\n    setFileName(file.name);\n    setFile(file);\n    {\n      /*\r\n      if(!file){\r\n         setFileStatusName(\"No file selected\");\r\n         setFileStatus(-1);\r\n         return;\r\n      }\r\n       else if(!file.name.match(/\\.(dem)$/)){\r\n         setFileStatusName(\"Invalid file format\");\r\n         setFileStatus(-1);\r\n         setFileName(file.name);\r\n         return;\r\n      }\r\n       else if(file.size > 419430400){\r\n         setFileStatusName(\"File size too big\");\r\n         setFileStatus(-1);\r\n         setFileName(file.name);\r\n         return;\r\n      }\r\n      else{\r\n         setFileStatus(1);\r\n         setFileName(file.name);\r\n         setFile(file);\r\n      }\r\n      */\n    }\n  }\n\n  function onSubmit(e) {\n    e.preventDefault();\n    console.log(typeof file);\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    console.log(formData.entries);\n    axios.post(\"/upload\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.File, {\n    id: \"formcheck-api-custom\",\n    custom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.File.Input, {\n    isValid: fileStatus > 0,\n    isInvalid: fileStatus < 0,\n    onChange: handleFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form.File.Label, {\n    \"data-browse\": \"Browse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, fileName), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, fileStatusName))), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"create\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, \"Create Session\"))));\n}\n\nfunction JoinForm(props) {\n  const history = useHistory();\n\n  function handleClick() {//const socket = io(props.endpoint);\n    //socket.emit(\"join\");\n    //history.push(\"/watch\");\n  }\n\n  return /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"join\",\n    placeholder: \"Enter Join Code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"join\",\n    onClick: () => handleClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"Join Session\"))));\n}\n\nfunction HomePage(props) {\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    id: \"createSessionSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CreateForm, {\n    endpoint: props.endpoint,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Jumbotron, {\n    id: \"joinSessionSection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(JoinForm, {\n    endpoint: props.endpoint,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/Louis/Desktop/demoviewer/client/src/pages/HomePage.js"],"names":["React","useState","io","Button","Jumbotron","Container","Form","Col","Row","bsCustomFileInput","Route","useHistory","ss","axios","CreateForm","props","history","file","setFile","fileName","setFileName","fileStatus","setFileStatus","fileStatusName","setFileStatusName","handleClick","handleFile","e","target","files","name","onSubmit","preventDefault","console","log","formData","FormData","append","entries","post","headers","JoinForm","HomePage","endpoint"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport io from \"socket.io-client\";\r\nimport { Button, Jumbotron, Container, Form, Col, Row} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport bsCustomFileInput from 'bs-custom-file-input'\r\nimport './HomePage.css';\r\nimport {Route, useHistory} from 'react-router-dom';\r\nimport ss from \"socket.io-stream\";\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction CreateForm(props){\r\n    const history = useHistory();\r\n    const [file, setFile] = useState();\r\n    const [fileName, setFileName] = useState(\"Choose Demo to Upload...\");\r\n    const [fileStatus, setFileStatus] = useState(0);\r\n    const [fileStatusName, setFileStatusName] = useState(\"\");\r\n\r\n    function handleClick(){\r\n        //const socket = io(props.endpoint);\r\n\r\n        // Sending to server\r\n        //socket.emit(\"create\");\r\n        \r\n        //history.push(\"/watch\");\r\n\r\n        {\r\n        //const stream = ss.createStream();\r\n\r\n        // Send data\r\n        //socket.emit(\"demorequest\");\r\n\r\n        // Receive data\r\n        /*\r\n        ss(socket).on(\"demofile\", (stream, filename) => {\r\n        console.log(stream);\r\n        });\r\n        */\r\n\r\n        /*\r\n        socket.on(\"demofile\", file=>{\r\n            console.log(file);\r\n        })  */\r\n        }\r\n    };\r\n\r\n    function handleFile(e){\r\n        const file = e.target.files[0];\r\n\r\n        setFileStatus(1);\r\n        setFileName(file.name);\r\n        setFile(file);\r\n\r\n        {/*\r\n        if(!file){\r\n            setFileStatusName(\"No file selected\");\r\n            setFileStatus(-1);\r\n            return;\r\n        }\r\n\r\n        else if(!file.name.match(/\\.(dem)$/)){\r\n            setFileStatusName(\"Invalid file format\");\r\n            setFileStatus(-1);\r\n            setFileName(file.name);\r\n            return;\r\n        }\r\n\r\n        else if(file.size > 419430400){\r\n            setFileStatusName(\"File size too big\");\r\n            setFileStatus(-1);\r\n            setFileName(file.name);\r\n            return;\r\n        }\r\n        else{\r\n            setFileStatus(1);\r\n            setFileName(file.name);\r\n            setFile(file);\r\n        }\r\n    */}\r\n    }\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n\r\n        console.log(typeof file);\r\n        \r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        console.log(formData.entries);\r\n\r\n\r\n        axios.post(\"/upload\", formData,{\r\n            headers:{\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            } \r\n        });\r\n        \r\n    \r\n    }\r\n\r\n    return(\r\n        <Form onSubmit={onSubmit}>\r\n            <Form.Row>\r\n                <Col>\r\n                    <Form.File id=\"formcheck-api-custom\" custom> \r\n                        <Form.File.Input isValid = {fileStatus > 0} isInvalid = {fileStatus < 0} onChange ={handleFile}/>\r\n                        <Form.File.Label data-browse=\"Browse\">\r\n                            {fileName}\r\n                        </Form.File.Label>\r\n                        <Form.Control.Feedback type=\"invalid\">{fileStatusName}</Form.Control.Feedback>\r\n                    </Form.File>\r\n                    \r\n                </Col>\r\n                <Col>   \r\n                    <Button variant=\"create\" type = \"submit\" >Create Session</Button>\r\n                    {/*onClick= {() => handleClick()}*/}\r\n                </Col>\r\n            </Form.Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nfunction JoinForm(props){\r\n    const history = useHistory();\r\n\r\n    function handleClick(){\r\n        //const socket = io(props.endpoint);\r\n\r\n        //socket.emit(\"join\");\r\n\r\n        //history.push(\"/watch\");\r\n    }\r\n\r\n    return(\r\n        <Form>\r\n            <Form.Row className=\"align-items-center\">\r\n                <Col>\r\n                    <Form.Control type=\"join\" placeholder=\"Enter Join Code\" />\r\n                </Col>\r\n                <Col>\r\n                    <Button variant=\"join\" onClick= {() => handleClick()}>Join Session</Button>\r\n                </Col>\r\n            </Form.Row>\r\n        </Form>\r\n    );\r\n}\r\n\r\nfunction HomePage(props){\r\n\r\n    return(\r\n        <Container>\r\n            <Jumbotron id = \"createSessionSection\">\r\n                <CreateForm endpoint={props.endpoint}/>\r\n            </Jumbotron>\r\n            <Jumbotron id = \"joinSessionSection\">\r\n                <JoinForm endpoint = {props.endpoint}/>\r\n            </Jumbotron>    \r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}